<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recipes ‚Ä¢ Cookie Jar</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
   :root { --bg:#faf5e6; --text:#3b2f2f; --muted:#7a6a58; --brand:#5b3a1e; --card:#ffffff; --border:#eadfcf; --btn:#5b3a1e; --btnText:#ffffff; }
   [data-theme="cookie"] { --bg:#faf5e6; --text:#3b2f2f; --muted:#7a6a58; --brand:#5b3a1e; --card:#ffffff; --border:#eadfcf; --btn:#5b3a1e; --btnText:#ffffff; }
   [data-theme="jar"] { --bg:#f1f7fb; --text:#123047; --muted:#5b6b78; --brand:#2b7a9b; --card:#ffffff; --border:#d6e6f1; --btn:#2b7a9b; --btnText:#ffffff; }
   body{margin:0;font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg)}
   a{color:inherit;text-decoration:none}
   header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,0.9);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--border)}
   .container{max-width:1100px;margin:0 auto;padding:0 16px}
   .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
   .brand{display:flex;align-items:center;gap:10px;font-weight:700}
   .logo{width:28px;height:28px;border:2px solid var(--brand);border-radius:50%;display:grid;place-items:center;font-size:14px}
   .links{display:flex;gap:24px}
   .theme-btn{width:40px;height:40px;border-radius:8px;border:1px solid var(--border);background:var(--card);display:inline-grid;place-items:center;font-size:18px}
   main{padding:32px 0 40px}
   h1{margin:0 0 12px}
   .muted{color:var(--muted)}
   .toolbar{display:flex;gap:12px;flex-wrap:wrap;margin:10px 0 20px}
   .input{height:42px;padding:0 12px;border:1px solid var(--border);border-radius:12px;background:var(--card)}
   .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
   .card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.06);transition:transform .08s ease, box-shadow .2s ease;display:flex;flex-direction:column}
   .card:hover{transform:translateY(-2px);box-shadow:0 12px 24px rgba(0,0,0,.09)}
   .card-media{background:#f3f4f6;border-bottom:1px dashed var(--border);aspect-ratio:4/3}
   .card-body{padding:12px;display:grid;gap:8px}
   .category{font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.06em}
   .title{font-size:16px;font-weight:600}
   .btn{display:inline-flex;align-items:center;justify-content:center;height:42px;padding:0 18px;border-radius:999px;font-weight:700;border:1px solid var(--btn);background:var(--btn);color:var(--btnText);box-shadow:0 6px 14px rgba(0,0,0,.08)}
   @media (max-width: 960px){ .grid{grid-template-columns:repeat(2,1fr)} }
   @media (max-width: 640px){ .grid{grid-template-columns:1fr} }
  </style>
 </head>
 <body>
  <header>
   <div class="container nav">
    <a href="{{ url_for('home') }}" class="brand"><span class="logo">üç™</span><span>Cookie Jar</span></a>
    <nav class="links">
     <a href="{{ url_for('home') }}">Home</a>
     <a href="{{ url_for('recipes') }}">Recipes</a>
     <a href="{{ url_for('my_recipes') }}">My Recipes</a>
     <a href="{{ url_for('about') }}">About</a>
    </nav>
    <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme" title="Toggle theme">üç™</button>
   </div>
  </header>

  <main class="container">
   <h1>Recipes</h1>
   <p class="muted">Browse cozy cookies and more. Use search or pick a category.</p>
   <div class="toolbar">
    <input id="search" class="input" style="flex:1 1 220px" placeholder="Search recipes..." aria-label="Search recipes" />
    <select id="filter" class="input" aria-label="Filter flavor">
     <option value="all">All cookies</option>
     <option value="chocolate">Chocolate</option>
     <option value="cinnamon">Cinnamon</option>
     <option value="oatmeal">Oatmeal</option>
     <option value="peanut">Peanut Butter</option>
    </select>
   </div>

   <section class="grid" aria-label="Recipe list" id="recipe-grid">
    <article class="card" data-title="brown butter chocolate chip" data-tags="cookies chocolate">
     <div class="card-media" aria-hidden="true"></div>
     <div class="card-body">
      <div class="category">Cookies</div>
      <div class="title">Brown Butter Chocolate Chip</div>
      <a class="btn" href="{{ url_for('recipe_detail', slug='chocolate-chip-cookies') }}">View Recipe</a>
     </div>
    </article>
    <article class="card" data-title="snickerdoodles" data-tags="cookies cinnamon">
     <div class="card-media" aria-hidden="true"></div>
     <div class="card-body">
      <div class="category">Cookies</div>
      <div class="title">Snickerdoodles</div>
      <a class="btn" href="{{ url_for('recipe_detail', slug='snickerdoodles') }}">View Recipe</a>
     </div>
    </article>
    <article class="card" data-title="oatmeal raisin" data-tags="cookies oatmeal">
     <div class="card-media" aria-hidden="true"></div>
     <div class="card-body">
      <div class="category">Cookies</div>
      <div class="title">Oatmeal Raisin</div>
      <a class="btn" href="{{ url_for('recipe_detail', slug='oatmeal-raisin') }}">View Recipe</a>
     </div>
    </article>
    <article class="card" data-title="peanut butter" data-tags="cookies peanut">
     <div class="card-media" aria-hidden="true"></div>
     <div class="card-body">
      <div class="category">Cookies</div>
      <div class="title">Peanut Butter Cookies</div>
      <a class="btn" href="{{ url_for('recipe_detail', slug='peanut-butter-cookies') }}">View Recipe</a>
     </div>
    </article>
   </section>
   <div id="no-results" class="muted" style="display:none;margin-top:8px">No recipes match your search.</div>
  </main>

  <footer>
   <div class="container" style="border-top:1px solid var(--border);padding:18px 0;color:var(--muted);display:grid;place-items:center;gap:6px;text-align:center">
    <div style="width:28px;height:28px;border:2px solid var(--brand);border-radius:50%;display:grid;place-items:center;background:var(--card)">üç™</div>
    <div class="muted">Baking simple, cozy cookies.</div>
    <div style="font-size:12px" class="muted">¬© 2025 Cookie Jar ¬∑ <a href="mailto:hello@cookiejar.local">hello@cookiejar.local</a></div>
   </div>
  </footer>
  <script>
   const themeBtn = document.getElementById('theme-toggle');
   const root = document.documentElement;
   const savedTheme = localStorage.getItem('theme');
   if (savedTheme) root.setAttribute('data-theme', savedTheme);
   function updateThemeIcon(){ const mode = root.getAttribute('data-theme') || 'cookie'; themeBtn.textContent = mode==='jar' ? 'ü´ô' : 'üç™'; }
   updateThemeIcon();
   themeBtn?.addEventListener('click',()=>{ const cur=root.getAttribute('data-theme')||'cookie'; const next=cur==='cookie'?'jar':'cookie'; root.setAttribute('data-theme', next); localStorage.setItem('theme', next); updateThemeIcon(); });

   // Filtering logic
   const search = document.getElementById('search');
   const filter = document.getElementById('filter');
   const grid = document.getElementById('recipe-grid');
   const noResults = document.getElementById('no-results');
   const cards = Array.from(grid.querySelectorAll('.card'));

   function applyFilters(){
     const q = (search.value || '').trim().toLowerCase();
     const tag = filter.value;
     let visible = 0;
     cards.forEach(card => {
       const title = card.getAttribute('data-title') || '';
       const tags = (card.getAttribute('data-tags') || '').split(/\s+/);
       const matchesText = !q || title.includes(q);
       const matchesTag = tag === 'all' || tags.includes(tag);
       const show = matchesText && matchesTag;
       card.style.display = show ? '' : 'none';
       if (show) visible++;
     });
     noResults.style.display = visible ? 'none' : '';
   }
   search?.addEventListener('input', applyFilters);
   filter?.addEventListener('change', applyFilters);
   applyFilters();
  </script>
 </body>
</html>
