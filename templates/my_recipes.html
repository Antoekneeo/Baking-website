<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Recipes ‚Ä¢ Cookie Jar</title>
  <link rel="icon" href='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><circle cx="32" cy="32" r="26" fill="%23d2a679"/><circle cx="22" cy="22" r="3" fill="%235b3a1e"/><circle cx="42" cy="20" r="3" fill="%235b3a1e"/><circle cx="40" cy="40" r="3" fill="%235b3a1e"/><circle cx="26" cy="44" r="3" fill="%235b3a1e"/><circle cx="32" cy="30" r="2.5" fill="%235b3a1e"/></svg>'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
   :root { --bg:#faf5e6; --text:#3b2f2f; --muted:#7a6a58; --brand:#5b3a1e; --card:#ffffff; --border:#eadfcf; --btn:#5b3a1e; --btnText:#ffffff; }
   [data-theme="cookie"] { --bg:#faf5e6; --text:#3b2f2f; --muted:#7a6a58; --brand:#5b3a1e; --card:#ffffff; --border:#eadfcf; --btn:#5b3a1e; --btnText:#ffffff; }
   [data-theme="jar"] { --bg:#f1f7fb; --text:#123047; --muted:#5b6b78; --brand:#2b7a9b; --card:#ffffff; --border:#d6e6f1; --btn:#2b7a9b; --btnText:#ffffff; }
   body{margin:0;font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg)}
   a{color:inherit;text-decoration:none}
   header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,0.9);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--border)}
   .container{max-width:1100px;margin:0 auto;padding:0 16px}
   .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
   .brand{display:flex;align-items:center;gap:10px;font-weight:700}
   .logo{width:28px;height:28px;border:2px solid var(--brand);border-radius:50%;display:grid;place-items:center;font-size:14px}
   .links{display:flex;gap:24px}
   .theme-btn{width:40px;height:40px;border-radius:8px;border:1px solid var(--border);background:var(--card);display:inline-grid;place-items:center;font-size:18px}
   main{padding:32px 0 40px}
   h1{margin:0 0 12px}
   .muted{color:var(--muted)}
   .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
   .card{background:var(--card);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.06);display:flex;flex-direction:column}
   .card-media{background:#f3f4f6;border-bottom:1px dashed var(--border);aspect-ratio:4/3}
   .card-body{padding:12px;display:grid;gap:8px}
   .title{font-size:16px;font-weight:600}
   .btn{display:inline-flex;align-items:center;justify-content:center;height:42px;padding:0 18px;border-radius:999px;font-weight:700;border:1px solid var(--btn);background:var(--btn);color:var(--btnText)}
   @media(max-width:960px){.grid{grid-template-columns:repeat(2,1fr)}}
   @media(max-width:640px){.grid{grid-template-columns:1fr}}
  </style>
 </head>
 <body>
  <header>
   <div class="container nav">
    <a href="{{ url_for('home') }}" class="brand"><span class="logo" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="20" height="20"><circle cx="32" cy="32" r="26" fill="#d2a679"/><circle cx="22" cy="22" r="3" fill="#5b3a1e"/><circle cx="42" cy="20" r="3" fill="#5b3a1e"/><circle cx="40" cy="40" r="3" fill="#5b3a1e"/><circle cx="26" cy="44" r="3" fill="#5b3a1e"/><circle cx="32" cy="30" r="2.5" fill="#5b3a1e"/></svg></span><span>Cookie Jar</span></a>
    <nav class="links">
     <a href="{{ url_for('home') }}">Home</a>
     <a href="{{ url_for('recipes') }}">Recipes</a>
     <a href="{{ url_for('my_recipes') }}">My Recipes</a>
     <a href="{{ url_for('about') }}">About</a>
    </nav>
    <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme" title="Toggle theme">üç™</button>
   </div>
  </header>

  <main class="container">
   <h1>My Recipes</h1>
   <p class="muted">Your favorited cookies live here.</p>

   {% if recipes and recipes|length > 0 %}
   <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
    <span class="muted">{{ recipes|length }} recipe{{ '' if recipes|length==1 else 's' }}</span>
    <a class="btn" href="{{ url_for('new_recipe') }}">Add Recipe</a>
   </div>
   <section class="grid" aria-label="My recipe list">
    {% for slug, recipe in recipes.items() %}
    <article class="card">
     <div class="card-media" aria-hidden="true"></div>
     <div class="card-body">
      <div class="title">{{ recipe.title }}</div>
      <a class="btn" href="{{ url_for('recipe_detail', slug=slug) }}">View</a>
     </div>
    </article>
    {% endfor %}
   </section>
   {% else %}
   <section style="background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px;box-shadow:0 6px 18px rgba(0,0,0,.06);display:grid;gap:12px">
    <div style="display:flex;align-items:center;gap:12px">
     <div style="width:56px;height:56px;border-radius:50%;border:2px dashed var(--border);display:grid;place-items:center">ü´ô</div>
     <div>
      <div style="font-weight:600">No recipes yet</div>
      <div class="muted">Start filling your cookie jar.</div>
     </div>
    </div>
    <div>
     <a class="btn" href="{{ url_for('new_recipe') }}">Add Your First Recipe</a>
     <a class="btn" style="background:transparent;color:var(--text);border-color:var(--border)" href="{{ url_for('recipes') }}">Browse Recipes</a>
    </div>
   </section>
   {% endif %}
  </main>

  <footer>
   <div class="container" style="border-top:1px solid var(--border);padding:18px 0;color:var(--muted);display:grid;place-items:center;gap:6px;text-align:center">
    <div style="width:28px;height:28px;border:2px solid var(--brand);border-radius:50%;display:grid;place-items:center;background:var(--card)">üç™</div>
    <div class="muted">Baking simple, cozy cookies.</div>
    <div style="font-size:12px" class="muted">¬© 2025 Cookie Jar ¬∑ <a href="mailto:hello@cookiejar.local">hello@cookiejar.local</a></div>
   </div>
  </footer>
  <script>
   const themeBtn = document.getElementById('theme-toggle');
   const root = document.documentElement;
   const savedTheme = localStorage.getItem('theme');
   if (savedTheme) root.setAttribute('data-theme', savedTheme);
   function updateThemeIcon(){ const mode = root.getAttribute('data-theme') || 'cookie'; themeBtn.textContent = mode==='jar' ? 'ü´ô' : 'üç™'; }
   updateThemeIcon();
   themeBtn?.addEventListener('click',()=>{ const cur=root.getAttribute('data-theme')||'cookie'; const next=cur==='cookie'?'jar':'cookie'; root.setAttribute('data-theme', next); localStorage.setItem('theme', next); updateThemeIcon(); });
  </script>
 </body>
</html>
