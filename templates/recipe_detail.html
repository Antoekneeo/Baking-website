<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ recipe.title }} ‚Ä¢ Cookie Jar</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
   :root { --bg:#faf5e6; --text:#3b2f2f; --muted:#7a6a58; --brand:#5b3a1e; --card:#ffffff; --border:#eadfcf; --btn:#5b3a1e; --btnText:#ffffff; }
   [data-theme="cookie"] { --bg:#faf5e6; --text:#3b2f2f; --muted:#7a6a58; --brand:#5b3a1e; --card:#ffffff; --border:#eadfcf; --btn:#5b3a1e; --btnText:#ffffff; }
   [data-theme="jar"] { --bg:#f1f7fb; --text:#123047; --muted:#5b6b78; --brand:#2b7a9b; --card:#ffffff; --border:#d6e6f1; --btn:#2b7a9b; --btnText:#ffffff; }
   *{box-sizing:border-box}
   body{margin:0;font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;color:var(--text);background:var(--bg)}
   a{color:inherit;text-decoration:none}
   header{position:sticky;top:0;z-index:50;background:rgba(255,255,255,0.9);backdrop-filter:saturate(180%) blur(8px);border-bottom:1px solid var(--border)}
   .container{max-width:900px;margin:0 auto;padding:0 16px}
   .nav{display:flex;align-items:center;justify-content:space-between;height:64px}
   .brand{display:flex;align-items:center;gap:10px;font-weight:700}
   .logo{width:28px;height:28px;border:2px solid var(--brand);border-radius:50%;display:grid;place-items:center;font-size:14px}
   .links{display:flex;gap:24px}
   .theme-btn{width:40px;height:40px;border-radius:12px;border:1px solid var(--border);background:var(--card);display:inline-grid;place-items:center;font-size:18px}
   main{padding:32px 0 40px}
   h1{margin:0 0 8px}
   .muted{color:var(--muted)}
   .hero{display:grid;grid-template-columns:1fr;gap:16px;margin-bottom:20px}
   .media{background:var(--card);border:2px dashed var(--border);border-radius:16px;aspect-ratio:16/9;box-shadow:0 6px 20px rgba(0,0,0,.07)}
   .section{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:0 6px 18px rgba(0,0,0,.06)}
   .two-col{display:grid;grid-template-columns:1fr 2fr;gap:16px}
   ul{margin:0;padding-left:20px}
   .btn{display:inline-flex;align-items:center;justify-content:center;height:42px;padding:0 18px;border-radius:999px;font-weight:700;border:1px solid var(--btn);background:var(--btn);color:var(--btnText)}
   @media(max-width:800px){ .two-col{grid-template-columns:1fr} }
  </style>
 </head>
 <body>
  <header>
   <div class="container nav">
    <a href="{{ url_for('home') }}" class="brand"><span class="logo">üç™</span><span>Cookie Jar</span></a>
    <nav class="links">
     <a href="{{ url_for('home') }}">Home</a>
     <a href="{{ url_for('recipes') }}">Recipes</a>
     <a href="{{ url_for('my_recipes') }}">My Recipes</a>
     <a href="{{ url_for('about') }}">About</a>
    </nav>
    <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme" title="Toggle theme">üç™</button>
   </div>
  </header>

  <main class="container">
   <div class="hero">
    <div class="media" aria-hidden="true"></div>
    <div>
     <h1>{{ recipe.title }}</h1>
     <div class="muted">{{ recipe.category }}</div>
     <p style="margin:8px 0 0" class="muted">{{ recipe.description }}</p>
    </div>
   </div>

   <section class="two-col">
    <div class="section">
     <h2 style="margin:0 0 8px">Ingredients</h2>
     <ul>
      {% for item in recipe.ingredients %}
      <li>{{ item }}</li>
      {% endfor %}
     </ul>
    </div>
    <div class="section">
     <h2 style="margin:0 0 8px">Method</h2>
     <ol style="margin:0;padding-left:20px">
      {% for step in recipe.steps %}
      <li style="margin-bottom:6px">{{ step }}</li>
      {% endfor %}
     </ol>
     <div style="margin-top:12px">
      <a class="btn" href="{{ url_for('recipes') }}">Back to recipes</a>
     </div>
    </div>
   </section>
  </main>

  <footer>
   <div class="container" style="border-top:1px solid var(--border);padding:18px 0;color:var(--muted);text-align:center">Footer text</div>
  </footer>

  <script>
   const themeBtn=document.getElementById('theme-toggle');
   const root=document.documentElement; const savedTheme=localStorage.getItem('theme');
   if(savedTheme) root.setAttribute('data-theme', savedTheme);
   function updateThemeIcon(){ const mode=root.getAttribute('data-theme')||'cookie'; themeBtn.textContent=mode==='jar'?'ü´ô':'üç™'; }
   updateThemeIcon();
   themeBtn?.addEventListener('click',()=>{const cur=root.getAttribute('data-theme')||'cookie'; const next=cur==='cookie'?'jar':'cookie'; root.setAttribute('data-theme', next); localStorage.setItem('theme', next); updateThemeIcon();});
  </script>
 </body>
</html>
